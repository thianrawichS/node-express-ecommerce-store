<%-include('header') %>

<div class="container-lg">
    <div class="display-5 mt-3">
        Monthly Sales-Report
    </div>
    
    <% if (monthlyResults.length !== 0){ %>
    <div class="mt-3 p-2 bg-light">
        Record : <strong><%= selectedYear %></strong>
    </div>
    <% } %>
    
    <div class="mt-3">
        <form action="/sales-report/monthly" method="get" class="row">
            <div class="col">
                <select name="year" class="form-select">
                    <option value="" disabled selected> Year </option>
                    <% year.forEach(y => { %>
                    <option value="<%= y %>"><%= y %></option>
                    <% }) %>
                </select>
            </div>
            <div class="col">
                <button type="submit" class="btn btn-outline-primary btn-sm"> Show Results </button>
            </div>
        </form>
    </div>
    
    <div class="mt-3">
        <table class="table">
            <thead>
                <tr>
                    <th>Month</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody>
                <% if (monthlyResults.length === 0){ %>
                <tr>
                    <td colspan="2" class="text-center"> No Records </td>
                </tr>
                <% } else { %>
                <% monthlyResults.forEach( (i, index) => { %>
                <tr>
                    <td><%= month[index] %></td>
                    <td><%= numeral(i).format(0,0) %></td>
                </tr>
                <% })} %>
            </tbody>
        </table>
        <div class="d-flex justify-content-start">
            <div class="h4 text-primary">
                Total : <%= numeral(totalYearlyIncome).format(0,0) %>
            </div>
        </div>
    </div>
</div>

<%-include('footer') %>